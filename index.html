<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Milk Engine</title>
  <link rel="shortcut icon" href="logo.svg" type="image/x-icon">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
  <!-- Tailwind -->
  <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css">

  <!-- Editor scripts -->
  <script defer src="scripts/editor.js" type="module"></script>
  <script defer src="scripts/preview.js" type="module"></script>

</head>

<body>
  <ui-container class="flex flex-grow p-2 gap-2 h-screen bg-slate-950 text-white font-sans">

    <!-- Project Bar -->
    <ui-pane class="flex flex-col flex-grow rounded-xl bg-slate-900 basis-1/4 p-2">

      <div class="bg-slate-800 rounded p-2 text-xl font-semibold"> Project </div>
      <div class="flex flex-col p-2">
        <input
          class="bg-slate-950 text-white p-2 rounded border-2 border-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-500 w-full"
          id="project-sets-name" type="text" maxlength="200" placeholder="Project Name">

      </div>

    </ui-pane>

    <!-- Editor Bar -->
    <ui-pane class="flex flex-grow flex-col gap-2 basis-3/4">

      <!-- Tabs -->
      <ui-pane class="flex flex-wrap rounded-xl bg-slate-900 basis-0 p-2 gap-2">
        <div class="flex flex-wrap gap-2">
          <!-- Menu -->
          <a class="btn bg-slate-700 hover:bg-slate-800 rounded-full px-4 py-1 text-center transition-colors cursor-pointer editor-tab"
            id="editor-tab-menu">
            <i class="bi bi-list"></i> Menu
          </a>
          <!-- Save -->
          <a class="btn bg-slate-700 hover:bg-slate-800 rounded-full px-4 py-1 text-center transition-colors cursor-pointer"
            id="ui-save-project">
            <i class="bi bi-floppy"></i>
          </a>
          <!-- Load -->
          <a class="btn bg-slate-700 hover:bg-slate-800 rounded-full px-4 py-1 text-center transition-colors cursor-pointer"
            id="ui-load-project">
            <i class="bi bi-folder"></i>
          </a>
          <!-- Run -->
          <a class="btn bg-slate-700 hover:bg-slate-800 rounded-full px-4 py-1 text-center transition-colors cursor-pointer"
            id="ui-run-preview">
            <i class="bi bi-play-circle"></i> Run
          </a>

          <hr class="border w-0 h-full rounded-full border-slate-700">

          <a class="btn bg-slate-700 hover:bg-slate-800 rounded-full px-4 py-1 text-center transition-colors cursor-pointer editor-tab"
            id="editor-tab-scene">
            <i class="bi bi-grid"></i> Scene
          </a>
          <a class="btn bg-slate-700 hover:bg-slate-800 rounded-full px-4 py-1 text-center transition-colors cursor-pointer editor-tab"
            id="editor-tab-script">
            <i class="bi bi-file-earmark-code"></i> Script
          </a>
        </div>

        <div class="flex flex-grow gap-2">
          <!-- Tabs here -->
        </div>
      </ui-pane>

      <!-- Editor -->
      <style>
        .editor-field {
          display: none;
        }

        .editor-field.active {
          display: flex;
        }
      </style>

      <!-- Menu (editor) -->
      <ui-pane id="editor-field-menu" class="flex flex-col flex-grow items-center rounded-xl bg-slate-900 p-2 editor-field active">

        <div class="my-auto bg-slate-800 rounded-xl p-12">
          <h1 class="text-8xl font-bold nunito milky">
            Milk <span class="text-slate-300">Engine</span>
          </h1>
          <p class="text-slate-400 text-2xl">
            Made by:
            <a href="https://macestudios.ru/" target="_blank" class="hover:underline">Mace Dev</a>
          </p>

          <br><br>

          <ul class="text-xl">
            <i class="bi bi-github"></i>
            <a href="https://github.com/macedeveloper/Milk-Engine" target="_blank" class="text-blue-400 hover:underline">This project on GitHub</a>
          </ul>
        </div>

      </ui-pane>

      <!-- Scene editor -->
      <ui-pane id="editor-field-scene" class="flex-grow items-center rounded-xl bg-slate-900 p-2 editor-field">
        <canvas id="editor-canvas"
          class="flex flex-grow flex-shrink rounded max-w-full max-h-full bg-blue-900 aspect-video"></canvas>
      </ui-pane>

      <!-- Script editor -->
      <ui-pane id="editor-field-script" class="flex-grow flex-col gap-2 items-center rounded-xl bg-slate-900 p-2 editor-field">
        
        <div id="editor-event-container" class="bg-slate-800 p-2 w-full h-full rounded flex flex-col gap-2">
          <h1 class="text-slate-500 text-2xl font-bold nunito">Event sheet</h1>
          <div id="event-0" class="flex flex-row bg-slate-900 p-2 w-full rounded gap-2 editor-event">
            <div class="editor-event-1 w-60 h-auto bg-slate-800 rounded p-2"><b>System</b>: Every tick</div>
            <div class="editor-event-1 w-max h-auto bg-slate-800 rounded flex-grow p-2"><b>Variables</b>: set <b>a</b> to <i>a+1</i></div>
          </div>
          <div id="event-0" class="flex flex-row bg-slate-900 p-2 w-full rounded gap-2 editor-event">
            <div class="editor-event-1 w-60 h-auto bg-slate-800 rounded p-2"><b>Keyboard</b>: Holding key <i>A</i></div>
            <div class="editor-event-1 w-max h-auto bg-slate-800 rounded flex-grow p-2"><b>Canvas</b>: Draw rectangle at (<i>10</i>, <i>10</i>) with size: (<i>10</i>, <i>10</i>)</div>
          </div>
          
        </div>

        <textarea class="bg-slate-950 text-white p-2 rounded border-2 border-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-500 w-full h-full resize-none
        mono" placeholder="Enter your code here..." id="editor-script-text"></textarea>

        <script>
          document.getElementById('editor-script-text').value = `milkspeed = 3
canvas.draw.fillStyle = "#E9E5DC"
canvas.draw.fillRect(10, 10, (milk.time * milkspeed) % (canvas.width - 20), canvas.height - 20)`
        </script>

      </ui-pane>


      <!-- Status -->
      <ui-pane class="flex flex-wrap rounded-xl bg-slate-900 basis-0 p-2 gap-2">
        <div class="flex flex-grow gap-2">
        </div>

        <div class="flex gap-2 text-slate-500">
          <p>Version: indev 0.2</p>
        </div>
      </ui-pane>

    </ui-pane>


    <!-- Properties Bar -->
    <ui-pane class="flex flex-col flex-grow rounded-xl bg-slate-900 basis-1/4 p-2">

      <div class="bg-slate-800 rounded p-2 text-xl font-semibold"> Properties </div>
      <div class="flex flex-col p-2"> </div>

    </ui-pane>

  </ui-container>

</body>

</html>